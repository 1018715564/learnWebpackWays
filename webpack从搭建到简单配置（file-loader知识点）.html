<html>
<head>
  <title>webpack从搭建到简单配置（file-loader知识点）</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600753 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="578"/>
<h1>webpack从搭建到简单配置（file-loader知识点）</h1>

<div>
<span><div><div>webpack的版本为4</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-weight: bold;">npm init -y</span></div></div><div><br/></div><div>在安装之前我们需要安装node和npm，因为webpack是基于node创造的。</div><div>我们可以2种方式安装，一个是全局安装，一个是局部在项目安装。</div><div><br/></div><div>我们如果选择了全局安装那么，我们就只能运行同一个版本的项目，但是如果是在项目中安装，我们就可以在电脑上运行多个不同版本的webpack</div><div><br/></div><div>所以推荐第二种方式。</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-weight: bold;">npm install webpack webpack-cli -D</span></div></div><div><br/></div><div>安装成功之后，如果是全局安装是直接webpack index.js</div><div><br/></div><div>webpack在最早是一个js编译器，但是随着发展，webpack不仅仅能够编译js，png，css等等都可以做到非常棒的打包；</div><div><br/></div><div>所以webpack应该说是一个模块打包工具；</div><div><br/></div><div>我们进入packge.json配置private为true，将script清空；</div><div><br/></div><div>然后我们在根目录上建立index.js，再建立一个header，通过es导入模块的方式引入；</div><div><br/></div><div>然后可以使用</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-weight: bold;">npx webpack index.js</span></div></div><div><br/></div><div>npx是node提供的一个命令，我们是局部安装，无法使用webpack index.js命令，所以用npx命令可以在本项目中webpack编译index.js</div><div><br/></div><div>编译成功可以生成出来了一个dist文件夹，下面有一个main.js，这边就是我们打包之后，能够被浏览器阅读的js文件。</div><div><br/></div><div>webpack团队为了丰富我们使用webpack的赶脚，所以提供了一系默认配置，包括我们在执行编译的时候，会自动生成dist和mainjs，这些都是提供的默认配置；</div><div><br/></div><div>我们可以自己定义打包文件名称以及编译后的文件名和文件夹名字，需要我们重写webpack.config.js 这个文件名称我们不能改变</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: #569cd6; font-family: Monaco; font-size: 9pt;">const</span> <span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">path</span> <span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">=</span> <span style="color: #dcdcaa; font-family: Monaco; font-size: 9pt;">require</span><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">(</span><span style="color: #ce9178; font-family: Monaco; font-size: 9pt;">'path'</span><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">)</span> <span style="color: #6a9955; font-family: Monaco; font-size: 9pt;">// 引入nodejs函数</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">module.</span><span style="color: #4ec9b0; font-family: Monaco; font-size: 9pt;">exports</span> <span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">=</span> <span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">{</span></div><div><span style="color: #ce9178; font-family: Monaco; font-size: 9pt;">entry</span><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">:</span> <span style="color: #ce9178; font-family: Monaco; font-size: 9pt;">&quot;./index.js&quot;</span><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">,</span></div><div><span style="color: #ce9178; font-family: Monaco; font-size: 9pt;">output</span><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">:{</span></div><div><span style="color: #ce9178; font-family: Monaco; font-size: 9pt;">filename</span><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">:</span> <span style="color: #ce9178; font-family: Monaco; font-size: 9pt;">&quot;bundle.js&quot;</span><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">,</span></div><div><span style="color: #ce9178; font-family: Monaco; font-size: 9pt;">path</span><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">: path</span><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">.</span><span style="color: #dcdcaa; font-family: Monaco; font-size: 9pt;">resolve</span><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">(</span><span style="color: #4ec9b0; font-family: Monaco; font-size: 9pt;">__dirname</span><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">,</span><span style="color: #ce9178; font-family: Monaco; font-size: 9pt;">'bundle'</span><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">)</span> <span style="color: #6a9955; font-family: Monaco; font-size: 9pt;">// 获取文件夹路径</span></div><div><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">}</span></div><div><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">}</span></div></div><div><br/></div><div>我们用commonjs模块导出了一个对象，里面有编译的文件，和编译后的目录地址以及设置文件名称；</div><div><br/></div><div>我们在这里之所以引入path函数，是因为不能写相对路径</div><div><br/></div><div>我们配置好webpack之后，我们要去package中修改我们的script：</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: #9cdcfe; font-family: Monaco; font-size: 9pt;">&quot;scripts&quot;</span><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">: {</span></div><div><span style="color: #9cdcfe; font-family: Monaco; font-size: 9pt;">&quot;boundle&quot;</span><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">:</span><span style="color: #ce9178; font-family: Monaco; font-size: 9pt;">&quot;webpack&quot;</span></div><div><span style="color: #d4d4d4; font-family: Monaco; font-size: 9pt;">},</span></div></div><div><br/></div><div>我们这边写这个代码的意思就是：我们可以用boundle关键字来取去找webpack在项目中，然后我们又定义了webpack配置：就可以轻松的使用如下命令来打包了：</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">npm run boundle</span></div></div><div><br/></div><div><br/></div><div><br/></div><hr/><div><br/></div><div>补充知识点：</div><div><br/></div><div><img src="webpack从搭建到简单配置（file-loader知识点）_files/QQ截图20190327172906.png" type="image/png" data-filename="QQ截图20190327172906.png"/></div><div><br/></div><div><br/></div><div>下面是关于file-loader的知识点<br/><br/></div></div><div>webpack默认只知道打包js文件，不知道打包txt，font，png，jpg这些文件，所以我们要接借助一个loader，它就是file-loader；</div><div><br/></div><div>首先安装</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>npm i file-loader -d</div></div><div><br/></div><div>然后在webpack.config.js中配置module和rules<br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>    module:{</div><div>        rules: [{</div><div>            test: /\.(png|jpg|jpeg)$/,</div><div>            use: {</div><div>                loader: 'file-loader',</div><div>                options: {}</div><div>            }</div><div>        }]</div><div>    }</div></div><div><br/></div><div>然后再试试引入图片吧</div></span>
</div></body></html> 